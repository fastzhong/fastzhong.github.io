+++
title = "ç»™æé¾™ä»¬è§£é‡Šä¸€ä¸‹å½“ä»Šçš„Javascript - Modern Javascriptï¼ˆè¯‘æ–‡ï¼‰"
date = 2017-11-01T19:04:01+08:00
categories = ["å‰ç«¯ & å…¨æ ˆå¼€å‘"]
tags = ["javascript"]
toc = true
draft = false
+++

ç°ä»£ Javascript çš„è¿›åŒ–å² - ç¼–ç¨‹è¯­è¨€ä¹‹äº‰çŠ¹å¦‚å®—æ•™æˆ˜äº‰ï¼Œä½† IT å²ä¸Šï¼Œå‘å±•æœ€å¿«ï¼Œç”Ÿé•¿æœ€é‡è›®ï¼Œä¹Ÿæœ€æ— è¯­çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¯«æ— äº‰è®®çš„å½“å± Javscriptã€‚

<!--more-->

ğŸ’¬ æé¾™ ï¼Œè¿œå¤æ—¶ä»£çš„åŠ¨ç‰©ï¼ŒæŒ‡çš„åº”è¯¥æ˜¯åƒæˆ‘è¿™æ ·ï¼Œå› ä¸º Internet çš„å‡ºç°ï¼Œ20 å¹´å‰å°±çŸ¥é“ï¼Œæ¥è§¦è¿‡ Javascriptï¼Œä½†è¿˜å¥½æ²¡æœ‰"å…¥å‘"ä½†å¿«è¦â€œå…¥åœŸâ€çš„ç¨‹åºå‘˜ã€‚

---

åŸæ–‡ï¼š[<i class="fas fa-external-link-alt"></i>&nbsp; Modern JavaScript Explained For Dinosaurs](https://medium.com/@peterxjang/modern-javascript-explained-for-dinosaurs-f695e9747b70)

å¦‚æœä½ ä¸æ˜¯ä» Javascritp æœ€å¼€å§‹ä¸€è·¯è·Ÿä¸‹æ¥ï¼Œå­¦ä¹  Javascript æ˜¯ä»¶å¤šä¹ˆè‹¦éš¾çš„äº‹ä½ è‚¯å®šä¸æ¸…æ¥šã€‚Javascript çš„ç”Ÿæ€å‘å±•å’Œå˜åŒ–ä¹‹å¿«ï¼Œä¹‹å¤§ï¼Œè®©äººæä¸æ‡‚è¿™äº›äº”èŠ±å…«é—¨çš„å·¥å…·åˆ°åº•æƒ³å¹²å•¥ï¼Œæƒ³è§£å†³ä»€ä¹ˆè«åå…¶å¦™çš„é—®é¢˜ã€‚æˆ‘è‡ªå·±ä» 1998 å¹´å¼€å§‹å­¦ä¹ ç¼–ç¨‹ä½†ç›´åˆ° 2014 å¹´æ‰å¼€å§‹å­¦ä¹  Javascriptã€‚åœ¨é‚£æ—¶ï¼Œæˆ‘è®°å¾—æˆ‘çœ‹åˆ° Browserfy ä¸Šæœ‰è¿™ä¹ˆä¸€æ®µï¼š

> "Browserfy lets you require('module') in the browser by bundling up all of your depednecies."

æˆ‘å®Œå…¨çœ‹ä¸æ‡‚è¿™æ˜¯å•¥æ„æ€ï¼Œå¹¶è¯•å›¾æ˜ç™½å®ƒå¯¹ Javascript å¼€å‘è€…æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚

æœ¬ç¯‡åšå®¢ä»æä¾›ä¸€ä¸ªå†å²çš„ä¸Šä¸‹æ–‡å»çœ‹ Javascript å·¥å…·æ˜¯å¦‚ä½•æ¼”å˜æˆäº†ä»Šå¤©ï¼ˆ2017 å¹´ï¼‰çš„æ ·å­ã€‚æˆ‘ä»¬ä»æ„å»ºä¸€ä¸ªç®€å•çš„ç½‘é¡µä¾‹å­å¼€å§‹ï¼Œåƒæé¾™çº§ç¨‹åºçŒ¿é‚£æ ·ï¼Œä¸ç”¨ä»»ä½•å·¥å…·ï¼Œåªæœ‰ HTML å’Œ Javascriptã€‚ä»å†å²ä¸Šä¸‹æ–‡ç€æ‰‹ï¼Œèƒ½è®©ä½ æ›´å¥½çš„å­¦ä¹ å’Œé€‚åº”è¿˜åœ¨ä¸æ–­å˜åŒ–å’Œå‘å±•çš„ Javascriptï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚

## æœ€åŸå§‹çš„æ–¹æ³•

è®©æˆ‘ä»¬ç”¨åŸå§‹çš„æ–¹æ³• - æ‰‹å·¥æ–¹å¼æŒ‡å®šæ–‡ä»¶çš„ä¸‹è½½å’Œè¿æ¥ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªç®€å•çš„ <span class="kwd">ntex.html</span> æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å« Javascript ä»£ç æ–‡ä»¶çš„è¿æ¥ï¼š

index.js å°±æ˜¯å’Œ index.html åœ¨åŒä¸€ç½‘ç«™æœåŠ¡å™¨ç›®å½•ä¸‹çš„å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```html
<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>JavaScript Example</title>
        <script src="index.js"></script>
    </head>
    <body>
        <h1>Hello from HTML!</h1>
    </body>
</html>
```

è¿™è¡Œ &lt;script src="index.js"&gt;&lt;/script&gt; æˆ‘ä»¬è®©æµè§ˆå™¨è½½å…¥äº†åŒä¸€ç›®å½•ä¸‹çš„ <span class="kwd">index.js</span> ï¼š

```javascript
// index.js
console.log("Hello from JavaScript!");
```

è¿™ä¸¤ä¸ªæ–‡ä»¶å°±æ„æˆäº†ä½ æ‰€éœ€è¦çš„ä¸€ä¸ªç®€å•ç½‘é¡µã€‚ç°åœ¨æˆ‘ä»¬åŠ å…¥ä¸€ä¸ªç®€å•çš„ç¬¬ä¸‰æ–¹ Javascript åº“ï¼ˆä¸æ˜¯æˆ‘ä»¬è‡ªå·±å¼€å‘çš„ï¼‰<span class="kwd">moment.js</span>ï¼Œè¿™ä¸ªåº“å¯ä»¥å¸®æˆ‘ä»¬æ ¼å¼åŒ–æ—¥æœŸï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ moment è¿™ä¸ªæ–¹æ³•ï¼š

```javascript
moment().startOf("day").fromNow(); // 20 hours ago
```

è°ƒç”¨å‰ææ˜¯æˆ‘ä»¬å¿…é¡»æŠŠ moment.js æåˆ°æˆ‘ä»¬çš„ç½‘ç«™ä¸Šæ¥ï¼Œä» moment.js çš„[ç½‘é¡µ](http://momentjs.com/)ä¸Šå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ä¿¡æ¯ï¼š

![0](/images/modern-js/0.png#center)

ä»å®‰è£…çš„æ–¹æ³•ï¼ˆå³ä¸Šéƒ¨åˆ†ï¼‰çœ‹åˆ°å®‰è£… moment.js åŒ…å«å¥½å‡ ä¸ªåŠ¨ä½œï¼Œè®©æˆ‘ä»¬å…ˆå¿½ç•¥ä¹‹ï¼Œæˆ‘ä»¬ç›´æ¥ä¸‹è½½ moment.js ï¼Œæ”¾åˆ°æˆ‘ä»¬çš„ç½‘ç«™æœåŠ¡å™¨ä¸Šï¼Œå¹¶åœ¨ index.html é‡ŒåŒ…å«å®ƒï¼š

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Example</title>
        <link rel="stylesheet" href="index.css" />
        <script src="moment.min.js"></script>
        <script src="index.js"></script>
    </head>
    <body>
        <h1>Hello from HTML!</h1>
    </body>
</html>
```

æ³¨æ„ï¼Œmoment.js æ˜¯åœ¨ index.js ä¹‹å‰çš„ï¼Œæ‰€ä»¥å…ˆè¢«æµè§ˆå™¨è½½å…¥ï¼Œä¹Ÿæ„å‘³ç€æˆ‘ä»¬æ‰å¯ä»¥åœ¨ index.js é‡Œè°ƒç”¨ moment æ–¹æ³•ï¼š

```javascript
// index.js
console.log("Hello from JavaScript!");
console.log(moment().startOf("day").fromNow());
```

å“ˆå“ˆï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨å„ç§ Javascript åº“çš„åŸå§‹æ–¹æ³•ã€‚å¥½å¤„æ˜¯å®ƒå¾ˆç®€å•ï¼Œåå¤„æ˜¯ï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½è¦å»å„ä¸ªç½‘ç«™ä¸Šæ‰¾ï¼Œç„¶åæ‰‹å·¥ä¸‹è½½è¿™äº›åº“ï¼Œæ¯æ¬¡åº“å¦‚æœå‡çº§äº†ï¼Œè¿˜å¾—é‡å¤è¿™ä¸ªæ­¥éª¤ã€‚

## åŒ…ç®¡ç†å™¨çš„æ–¹æ³•ï¼šNPM

ä» 2010 å¹´èµ·ï¼Œå„ç§ Javascript åŒ…ç®¡ç†å™¨ package manager å¼€å§‹å‡ºç°ï¼Œå¯ä»¥è‡ªåŠ¨ä¸‹è½½ã€å‡çº§å„ç§åº“ã€‚åœ¨ 2013 å¹´ï¼Œ[Bower](https://bower.io/) åŒ…ç®¡ç†å™¨æ— ç–‘æ˜¯æœ€æµè¡Œçš„åŒ…ç®¡ç†å™¨ï¼Œä½†åˆ°äº† 2015 å¹´å·¦å³ï¼Œè¢« [npm](https://www.npmjs.com/) è¶…è¶Šã€‚

> _éœ€è¦æŒ‡æ˜çš„æ˜¯ï¼Œ[Yarn](https://yarnpkg.com/en/) ä½œä¸º npm æ›¿ä»£å“ï¼Œè™½ç„¶åœ¨ 2016 å¹´ yarn ä» npm ä¸ŠæŠ¢èµ°äº†å¾ˆå¤šçš„æ³¨æ„åŠ›ï¼Œä½† Yarn å†…éƒ¨ä¾æ—§æ˜¯ npmã€‚_

npm åŸæ¥æ˜¯ä½œä¸º [node.js](https://nodejs.org/en/) çš„åŒ…ç®¡ç†å™¨ï¼Œnode.js æ˜¯è®¾è®¡åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œçš„ Javascript Runtimeï¼Œè€Œä¸æ˜¯å‰ç«¯ã€‚è®© npm å˜æˆäº†åœ¨æµè§ˆå™¨é‡Œè¿è¡Œçš„å„ç§ Javascript åº“çš„ç®¡ç†å™¨ï¼Œæ„Ÿè§‰ä¼šæœ‰ç‚¹æ€ªæ€ªçš„ã€‚

> _åŒ…ç®¡ç†å™¨çš„ä½¿ç”¨é€šå¸¸æ¶‰åŠ Unix/Linux å‘½ä»¤è¡Œï¼Œä»¥å‰å‰ç«¯å¼€å‘äººå‘˜æ˜¯ä¸è¦æ±‚æŒæ¡çš„ï¼Œå¦‚æœä½ ä»æœªä½¿ç”¨è¿‡ Unix/Linux å‘½ä»¤è¡Œï¼Œä½ å¯ä»¥é˜…è¯»è¿™ä¸ª[æ•™ç¨‹](https://www.learnenough.com/command-line-tutorial)ã€‚å¦‚ä½•ä½¿ç”¨å‘½ä»¤è¡Œï¼Œå¯¹ç°ä»£ Javascript å¼€å‘äººå‘˜è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚_

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ npm è‡ªåŠ¨ä¸‹è½½ moment.jsã€‚å¦‚æœä½ å·²ç»å®‰è£…äº† node.jsï¼Œé‚£ä¹ˆ npm å·²ç»å®‰è£…äº†ï¼ˆåŒ…å«åœ¨ node.js é‡Œï¼‰ã€‚ç„¶åä»å‘½ä»¤è¡Œè¿›å…¥ index.html æ‰€åœ¨ç›®å½•ï¼Œæ•²å…¥ï¼š

```bash
$ npm init
```

ä½ ä¼šé¢å¯¹å‡ ä¸ªé—®é¢˜ï¼Œç»Ÿç»Ÿæ•² Enterï¼Œç»“æŸåå°±ä¼šå‡ºç°ä¸€ä¸ªæ–°æ–‡ä»¶ package.jsonã€‚package.json æ˜¯ npm ç”¨æ¥ä¿å­˜é¡¹ç›®ä¿¡æ¯çš„é…ç½®æ–‡ä»¶ã€‚é»˜è®¤çš„ package.json çœ‹èµ·æ¥åƒè¿™ä¸ªæ ·å­ï¼š

```json
{
    "name": "your-project-name",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
    },
    "author": "",
    "license": "ISC"
}
```

ç°åœ¨å¯ä»¥æ ¹æ® npm ç”¨æ³•æ¥å®‰è£… moment.js è¿™ä¸ªåŒ…ï¼Œé”®å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š

```bash
$ npm install moment --save
```

è¿™ä¸ªå‘½ä»¤ä¼šåšä¸¤ä»¶äº‹ï¼šä¸‹è½½ momen.js åŒ…é‡Œæ‰€æœ‰çš„ä»£ç åˆ°ä¸€ä¸ªå« <span class="kwd">node_modules</span> çš„ç›®å½•é‡Œï¼Œç¬¬äºŒï¼Œæ›´æ–° package.jsonï¼Œå¹¶è®°å½• moment.js æˆä¸ºä¸€ä¸ªé¡¹ç›®ä¾èµ–ã€‚

è¿™ä¸ªå°†æ¥åˆ†äº«é¡¹ç›®ç»™å…¶å®ƒ Javascript å¼€å‘äººå‘˜æ—¶æœ‰ç”¨ï¼Œå› ä¸ºä¸éœ€è¦åˆ†äº« node_module ç›®å½•ï¼Œé‚£æ ·å¤ªå¤§äº†ï¼Œåªè¦åˆ†äº« package.json å°±å¥½ï¼Œç„¶å npm install ä¼šæ ¹æ®å®ƒæ¥ä¸‹è½½å’Œå®‰è£…æ‰€éœ€çš„ Javascript åŒ…ã€‚

ç°åœ¨æˆ‘ä»¬ä¸å†éœ€è¦æ‰‹å·¥ä» moment.js ç½‘ç«™ä¸Šä¸‹è½½ moment.jsï¼Œè€Œé€šè¿‡ npm è‡ªåŠ¨ä¸‹è½½å’Œæ›´æ–°ã€‚æˆ‘ä»¬ä¼šçœ‹åˆ° moment.js å…¶å®å­˜åˆ°äº†*node_modules/moment/min* çš„ç›®å½•é‡Œï¼Œè¿™æ„å‘³ç€åœ¨ index.html é‡Œæˆ‘ä»¬è¦åŠ å…¥è¿™æ ·çš„è¿æ¥ _src="node_modules/moment/min/moment.min.js_ï¼š

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>JavaScript Example</title>
        <script src="node_modules/moment/min/moment.min.js"></script>
        <script src="index.js"></script>
    </head>
    <body>
        <h1>Hello from HTML!</h1>
    </body>
</html>
```

npm å¸®æˆ‘ä»¬è§£å†³äº†ä¸‹è½½å’Œæ›´æ–°ï¼Œä½†åå¤„æ˜¯æˆ‘ä»¬å¾—åœ¨ node_modules ç›®å½•é‡Œæ‰¾åˆ°åŒ…çš„ä½ç½®å¹¶æ‰‹å·¥åŠ å…¥åˆ° index.html é‡Œï¼Œä¸‹é¢æˆ‘ä»¬çœ‹çœ‹èƒ½ä¸èƒ½æŠŠè¿™åé¢è¿™ä¸€æ­¥ä¹Ÿè‡ªåŠ¨å®Œæˆå‘¢ã€‚

![1](/images/modern-js/1.png#center)

## Webpackï¼šæ¨¡å—æ†ç»‘å™¨

å¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€æä¾› import æœºåˆ¶æŠŠä»£ç ä»ä¸€ä¸ªæ–‡ä»¶è½½å…¥åˆ°å¦ä¸€æ–‡ä»¶é‡Œã€‚Javascript æœ€åˆæ²¡æœ‰è®¾è®¡è¿™ä¸ªï¼ˆæ²¡æœ‰ module çš„æ¦‚å¿µï¼‰ï¼ŒåŸå› æ˜¯ Javascript åªæ˜¯è®¾è®¡åœ¨æµè§ˆå™¨é‡Œè·‘çš„ï¼Œè€Œæµè§ˆå™¨æ˜¯æ²¡æœ‰è¯»å†™æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„æƒé™çš„ï¼ˆå®‰å…¨åŸå› ï¼‰ã€‚æ‰€ä»¥åœ¨å¾ˆé•¿æ—¶é—´é‡Œï¼Œå¦‚æœä½ æŠŠ Javascript ä»£ç åˆ†æ•£åœ¨å‡ ä¸ªæ–‡ä»¶é‡Œï¼Œåªèƒ½é€šè¿‡å…¨å±€å˜é‡è½½å…¥è¿™äº›æ–‡ä»¶ã€‚è¿™æ­£æ˜¯ä¸Šé¢çš„ä¾‹å­æ‰€å±•ç¤ºçš„ï¼Œæ•´ä¸ª moment.min.js è¢«è½½å…¥åˆ° HTML é‡Œï¼Œå¹¶å®šä¹‰ç»™å…¨å±€å˜é‡ momentï¼Œè¿™ä¸ªå˜é‡å¯ä»¥è¢«ä¹‹åè½½å…¥ä»»ä½• Javascript æ–‡ä»¶æ‰€è°ƒç”¨ã€‚

åœ¨ 2009 å¹´ï¼Œå¼€å¯äº†ä¸€ä¸ªåä¸º <span class="kwd">CommonJS</span> çš„é¡¹ç›®ï¼Œä¸ºäº†åœ¨æµè§ˆå™¨ä¹‹å¤–å®ç°è¿™ä¸ªç›®æ ‡ã€‚CommonJS å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯å¯¹ Javascript çš„æ¨¡å— module ç»™å‡ºè§„èŒƒï¼Œä»¥ä¾¿ Javascript æœ€ç»ˆå¯ä»¥åƒå…¶å®ƒç¼–ç¨‹è¯­è¨€é‚£æ ·å¯ä»¥åœ¨ä¸åŒçš„æ–‡ä»¶ä¹‹é—´ import æˆ– exportï¼Œè€Œéé€šè¿‡å…¨å±€å˜é‡ã€‚è€Œé‡‡ç”¨ CommonJS æœ€è‘—åçš„å°±æ˜¯ node.js ï¼š

![2](/images/modern-js/2.png#center)

å¦‚å‰æ‰€è¯´ node.js å…¶å®æ˜¯ä¸ª Javascript æœåŠ¡å™¨ï¼Œä¸‹é¢æ˜¯æ—©æœŸåœ¨ node.js é‡Œå¦‚ä½•ä½¿ç”¨æ¨¡å—çš„ä¾‹å­ï¼Œå’Œä¸Šé¢çš„åŒºåˆ«æ˜¯åœ¨ Javascript ä»£ç é‡Œç›´æ¥è½½å…¥ï¼š

```javascript
// index.js
var moment = require("moment");
console.log("Hello from JavaScript!");
console.log(moment().startOf("day").fromNow());
```

è¿™æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸º node.js æ˜¯æœåŠ¡å™¨ç«¯çš„ç¨‹åºï¼Œå¯ä»¥ç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿã€‚node.js ä¹ŸçŸ¥é“ npm module çš„è·¯å¾„ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿™æ ·è½½å…¥ _require('./node_modules/moment/min/moment.min.js)_ è€Œåªéœ€è¦ç®€å•çš„ _require('moment')_ å³å¯ã€‚

ä½†å¦‚æœè¯•ç€åœ¨æµè§ˆå™¨ç«¯è¿™æ ·åšï¼Œä¼šå¾—åˆ°é”™è¯¯ä¿¡æ¯ï¼ˆrequire is not definedï¼‰ã€‚è¿™å°±æ˜¯éœ€è¦æ¨¡å—æ†ç»‘å™¨ module bundler è¿™ç§å·¥å…·çš„åŸå› ã€‚æ¨¡å—æ†ç»‘å™¨é€šè¿‡ä¸€ä¸ªæ„å»ºåŠ¨ä½œäº§ç”Ÿæœ€ç»ˆå’Œæµè§ˆå™¨å…¼å®¹çš„ Javascript æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¨¡å—æ†ç»‘å™¨æœç´¢æ‰€æœ‰çš„ require è¯­å¥ï¼ˆè¿™äº›è¯­å¥åœ¨æµè§ˆå™¨é‡Œéƒ½æ˜¯ä¸æ”¯æŒï¼‰ï¼ŒæŠŠå®ƒä»¬å–ä»£æˆå®é™…çš„æ–‡ä»¶ï¼Œæœ€ç»ˆç»“æœå˜æˆä¸€ä¸ªå¤§å¤§çš„ Javascript æ–‡ä»¶ï¼ˆè¿™ä¹Ÿæ˜¯æ†ç»‘åå­—çš„ç”±æ¥ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿå°±ä¸å†éœ€è¦è¿™äº› require è¯­å¥äº†ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨ <span class="kwd">Webpack</span> å®ç°å‰é¢è¿™ä¸ªä¾‹å­ã€‚é¦–å…ˆæˆ‘ä»¬å®‰è£… Webpack åˆ°è¿™ä¸ªé¡¹ç›®é‡Œã€‚Webpack æœ¬èº«ä¹Ÿæ˜¯ npm çš„ä¸€ä¸ªåŒ…ï¼Œæ‰€ä»¥åŒæ ·é€šè¿‡ npm å®‰è£…ï¼š

```bash
$ npm install webpack --save-dev
```

æ³¨æ„ <span class="kwd">--save-dev</span> è¿™ä¸ªå‚æ•°è¡¨æ˜ Webpack æ˜¯ä¸ªå¼€å‘ä¾èµ–ï¼ˆå¼€å‘ç¯å¢ƒä¾èµ–çš„åŒ…è€Œéç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œè¿™åœ¨é¡¹ç›®æ–‡ä»¶ package.json é‡Œå¯ä»¥çœ‹åˆ° - è¿è¡Œä¸Šé¢çš„å‘½ä»¤å package.json ä¼šè¢«è‡ªåŠ¨æ›´æ–°æˆï¼š

```json
{
    "name": "modern-javascript-example",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
    },
    "author": "",
    "license": "ISC",
    "dependencies": {
        "moment": "^2.19.1"
    },
    "devDependencies": {
        "webpack": "^3.7.1"
    }
}
```

ç°åœ¨ Webpack ä½œä¸ºä¸€ä¸ªåŒ…ä¹Ÿå®‰è£…åœ¨äº† node_modules çš„ç›®å½•é‡Œï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Webpack äº†ï¼š

```bash
$ ./node_modules/.bin/webpack index.js bundle.js
```

è¿™ä¸ªå‘½ä»¤å°†ä¼šè¿è¡Œ Webpackï¼Œä» index.js å¼€å§‹ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„ requireï¼ŒæŠŠä»–ä»¬ç›¸åº”çš„ä»£ç ï¼ˆä»ç›¸åº”æ–‡ä»¶è¯»å–ï¼‰ï¼Œæœ€åäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶å« _bundle.js_ ã€‚è¿™ä¹Ÿæ„å‘³ç€æµè§ˆå™¨é‡Œæˆ‘ä»¬å°†ä¸åœ¨ä½¿ç”¨ index.js è€Œæ˜¯ bundle.js ï¼Œæ‰€ä»¥ index.html è¦åšç›¸åº”çš„æ›´æ”¹ï¼š

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>JavaScript Example</title>
        <script src="bundle.js"></script>
    </head>
    <body>
        <h1>Hello from HTML!</h1>
    </body>
</html>
```

å¦‚æœåœ¨æµè§ˆå™¨é‡Œè®¿é—®è¿™ä¸ª htmlï¼Œç»“æœå°±å’Œå¼€å§‹ä¸€æ ·ã€‚

å¦‚æœæœåŠ¡å™¨ç«¯æ¯æ¬¡æ›´æ”¹ index.jsï¼Œæˆ‘ä»¬éƒ½å¿…é¡»é‡è·‘ Webpackï¼Œè¿™æ˜¯æŒºéº»çƒ¦çš„ï¼Œå¦‚æœè¿˜æƒ³ä½¿ç”¨ Webpack çš„é«˜çº§åŠŸèƒ½ï¼ˆä¾‹å¦‚ source mapsï¼‰ï¼Œå°†ä¼šæ›´éº»çƒ¦ã€‚Webpack å¯ä»¥è‡ªåŠ¨è¯»å–é¡¹ç›®ç›®å½•ä¸‹çš„é…ç½®é€‰é¡¹æ–‡ä»¶ webpack.config.js ï¼Œé’ˆå¯¹ä¸Šé¢çš„ä¾‹å­ï¼Œå¯ä»¥æ˜¯è¿™æ ·ï¼š

```json
// webpack.config.js
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  }
};
```

è¿™æ ·æ¯æ¬¡è·‘ Webpack æ—¶ï¼Œå¯ä»¥ç®€åŒ–å‘½ä»¤è¡Œå‚æ•°ï¼Œå› ä¸º index.js å’Œ bundle.js å·²ç»åœ¨ webpack.confing.js é‡ŒæŒ‡æ˜äº†ï¼š

```bash
$ ./node_modules/.bin/webpack
```

è™½ç„¶ç®€åŒ–äº†è¿™ä¸ªæ­¥éª¤ï¼Œä½†æ¯æ¬¡æ›´æ”¹ index.jsï¼Œè¿˜æ˜¯è¦é‡å¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿›ä¸€æ­¥ä¼˜åŒ–å®ƒã€‚

åˆ°ç°åœ¨ä¸ºæ­¢çš„ä¸€åˆ‡çœ‹èµ·æ¥æ²¡æœ‰åšå¾ˆå¤šäº‹æƒ…ï¼Œä½†æ•´ä¸ªå¼€å‘æµç¨‹è€Œè¨€é¡ºç•…ä¸å°‘ï¼Œå¢åŠ ä¸€ä¸ª Javascript åº“ï¼Œåªéœ€å¢åŠ ä¸€æ¡ require è¯­å¥è€Œéåœ¨ HTML é‡Œå¢åŠ ä¸€æ¡ scriptï¼ŒåŒæ—¶æ†ç»‘æˆä¸€ä¸ª Javascript æ–‡ä»¶ï¼Œæµè§ˆå™¨çš„è½½å…¥ä¹Ÿæ¯”è¾ƒå¿«ã€‚æˆ‘ä»¬ç°åœ¨åªåœ¨æ•´ä¸ªå¼€å‘æµç¨‹ä¸­å¢åŠ äº†ä¸€ä¸ªæ„å»ºæ­¥éª¤ï¼Œä½†æ„å»ºè¿‡ç¨‹é‡Œå…¶å®æˆ‘ä»¬å¯ä»¥åšæ›´å¤šã®äº‹ï¼Œè®©æˆ‘ä»¬ä¸€èµ·ç»§ç»­è§è¯ Javascript çš„ç‰› x æˆ–è€…è¯´å¥‡è‘©ã€‚

![3](/images/modern-js/3.png#center)

## babelï¼šè½¬è¯‘ä»£ç 

è½¬è¯‘ä»£ç ã€Tanspilingã€å°±æ˜¯æŠŠä¸€ç§ç¼–ç¨‹è¯­è¨€è½¬æˆç±»ä¼¼çš„å¦ä¸€ç§è¯­è¨€ã€‚è¿™å¯¹å‰ç«¯å¼€å‘éå¸¸é‡è¦ï¼Œå› ä¸ºæµè§ˆå™¨çš„æ›´æ–°å’Œæ ‡å‡†åŒ–éœ€è¦æ—¶é—´ï¼Œé€šå¸¸æ¯”è¾ƒæ…¢ï¼Œè€Œæ–°çš„å‰ç«¯å¼€å‘è¯­è¨€å¯ä»¥ä¸æ–­è¯•éªŒæ–°çš„ç‰¹æ€§ï¼Œç„¶åå†è½¬è¯‘æˆå’Œæµè§ˆå™¨å…¼å®¹çš„è¯­è¨€ã€‚

> _è½¬è¯‘ã€Tanspilingã€å¥½åƒæ˜¯åœ¨ Javascript å‘å±•ä¸­å‡ºç°çš„ï¼Œâ€œæé¾™â€ä»¥å‰æ²¡æœ‰å¬è¿‡ï¼Œåªå¬è¿‡ç¼–è¯‘ã€Compilingã€ï¼ŒåŒºåˆ«æ˜¯è½¬è¯‘ç”¨äºåŒè´¨è¯­è¨€ï¼Œç¼–è¯‘ç”¨äºä¸åŒè´¨è¯­è¨€ï¼Œè½¬è¯‘æ˜¯ç¼–è¯‘çš„ç‰¹ä¾‹ã€‚ä¾‹å¦‚æŠŠ Câ€œç¼–è¯‘â€æˆæœºå™¨ä»£ç ï¼Œè€ŒæŠŠ Typescriptâ€œè½¬è¯‘â€ä¸º Javascriptã€‚_

å¯¹äº CSSï¼Œè¿™ç±»æ–°çš„è¯­è¨€æœ‰ Sass ï¼ŒLess å’Œ Stylus ç­‰ã€‚å¯¹äº Javascriptï¼Œæ›¾ç»æœ€æœ‰åçš„æ˜¯ Coffeescriptï¼ˆå‡ºç°äº 2010 å¹´ï¼‰ï¼Œè€Œç°åœ¨ç”¨å¾—æœ€å¤šçš„åˆ™æ˜¯ babel å’Œ Typescript ã€‚Coffeescript å¯¹ Javascript çš„æ”¹è¿›ç”šå¤š - optional parenthesesï¼Œsignificant whitespaceï¼Œç­‰ç­‰ã€‚ babel ä¸æ˜¯æ–°çš„è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ä¸ªè½¬è¯‘å™¨ï¼ŒæŠŠæ–°ç‰ˆæœ¬çš„ Javascriptï¼ˆ [ES2015](https://babeljs.io/learn-es2015/) æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰è½¬æˆè€æ—§ç‰ˆæœ¬ï¼ˆES5ï¼‰ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒæ–°ç‰ˆæœ¬çš„ Javascriptã€‚å¾ˆå¤šäººé€‰æ‹© babel å› ä¸ºå®ƒæœ¬èº«å’Œ Javscript å¾ˆæ¥è¿‘ã€‚

_Javascript è¯­è¨€æ˜¯ä¸ªå¥‡è‘©ï¼Œå…¶æ ‡å‡†ä¸€ç›´ç¼ºå¤±ï¼Œæ¯”è¾ƒè‘—åçš„æ˜¯ [ECMAscript](https://zh.wikipedia.org/wiki/ECMAScript)_

è®©æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­åŠ å…¥ babelã€‚é¦–å…ˆï¼Œå®‰è£… babel:

```bash
$ npm install babel-core babel-preset-env babel-loader --save-dev
```

æˆ‘ä»¬ä¸ºå¼€å‘ç¯å¢ƒå®‰è£…äº†ä¸‰ä¸ªåŒ…ï¼š<span class="kwd">babel-core</span> è¿™ä¸ªæ˜¯ babel çš„ä¸»ä½“ï¼Œ<span class="kwd">babel-preset-env</span> è¿™ä¸ªç”¨æ¥å®šä¹‰é‚£äº›æ–°çš„ Javvascript ç‰¹æ€§éœ€è¦è½¬è¯‘ï¼Œæœ€å <span class="kwd">babel-loader</span> åˆ™æ˜¯ä¸ºäº†è®© babel å’Œ Webpack å…±åŒå·¥ä½œã€‚ æˆ‘ä»¬éœ€è¦åœ¨ webpack.config.js ä¸­åŠ å…¥ babel-loaderï¼š

```json
// webpack.config.js
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['env']
          }
        }
      }
    ]
  }
};
```

è¿™ä¸ªè¯­æ³•æœ‰ç‚¹è®©äººå›°æƒ‘ï¼ˆå¥½åœ¨æˆ‘ä»¬ä¸éœ€è¦ç»å¸¸åšè¿™ä»¶äº‹ï¼‰ï¼ŒåŸºæœ¬ä¸Šå®ƒæ˜¯è®© Webpack æ‰¾å‡ºæ‰€æœ‰çš„.js æ–‡ä»¶ï¼ˆnode_modules ç›®å½•ä¹‹å¤–ï¼‰ç„¶åç”¨ babel-loader è½½å…¥ä¹‹ã€‚å…·ä½“çš„ç”¨æ³•éœ€è¦å­¦ä¹ å’Œå‚è€ƒ Webpack æ–‡æ¡£ã€‚

å¥½ï¼Œç°åœ¨åœ¨æˆ‘ä»¬çš„ Javascript å¯ä»¥ä½¿ç”¨ ES2015 çš„ç‰¹æ€§ï¼Œä¸‹é¢çš„ä¾‹å­æ˜¯åœ¨ index.js é‡Œä½¿ç”¨[ES2015 template string](https://babeljs.io/learn-es2015/#ecmascript-2015-features-template-strings)ï¼š

```javascript
// index.js
var moment = require("moment");

console.log("Hello from JavaScript!");
console.log(moment().startOf("day").fromNow());

var name = "Bob",
    time = "today";
console.log(`Hello ${name}, how are you ${time}?`);
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ [ES2015 import statement](https://babeljs.io/learn-es2015/#ecmascript-2015-features-modules) è€Œä¸æ˜¯ require æ¥è½½å…¥æ¨¡å—ï¼š

```javascript
// index.js
import moment from "moment";

console.log("Hello from JavaScript!");
console.log(moment().startOf("day").fromNow());

var name = "Bob",
    time = "today";
console.log(`Hello ${name}, how are you ${time}?`);
```

è™½ç„¶è¿™ä¸ªä¾‹å­é‡Œ import å’Œ require ç›¸å·®ä¸å¤§ï¼Œä½† import æœ‰ç€æ›´å¤šçš„ç‰¹æ€§ã€‚æ”¹å®Œ index.js åï¼Œæˆ‘ä»¬éœ€è¦é‡è·‘ Webpack:

```bash
$ ./node_modules/.bin/webpack
```

æˆ‘ä»¬å¯ä»¥åˆ·æ–°æµè§ˆå™¨é¡µé¢æ¥çœ‹çœ‹ babel æ˜¯å¦å®Œæˆå®ƒçš„å·¥ä½œï¼Œå½“ç„¶ç°åœ¨è®¸å¤šæ–°ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½æ”¯æŒ ES2015ï¼Œä½†ä½ å¯ä»¥ç”¨è€çš„æµè§ˆå™¨è¯•è¯•ä¾‹å¦‚ IE9 ï¼Œæˆ–è€…ä½ åœ¨ bundle.js é‡Œçœ‹çœ‹æœ‰æ²¡æœ‰è½¬è¯‘åçš„ä»£ç ï¼š

```javascript
// bundle.js
// ...
console.log("Hello " + name + ", how are you " + time + "?");
// ...
```

è™½ç„¶è¿™ä¸ªä¾‹å­æ²¡æœ‰ä»€ä¹ˆå¥½è®©äººæ¿€åŠ¨çš„ï¼Œä½†ä»£ç è½¬è¯‘æ˜¯å¾ˆå‰å®³çš„åŠŸèƒ½ã€‚ä¾‹å¦‚æ–°çš„ Javascritp ç‰¹æ€§ [async/await](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) èƒ½è®©ä½ å†™å‡ºæ›´å¥½çš„ä»£ç ã€‚å°½ç®¡è½¬è¯‘æœ‰æ—¶çœ‹èµ·æ¥éº»çƒ¦ï¼Œä½†æ˜¯å¯¹ Javascript çš„æ”¹è¿›åœ¨è¿‡å»å‡ å¹´èµ·äº†å·¨å¤§çš„ä½œç”¨ï¼Œå› ä¸ºç¨‹åºå‘˜å¯ä»¥ç°åœ¨å°±ä½¿ç”¨å’Œæµ‹è¯•å…¶æœªæ¥çš„è¯­è¨€ç‰¹æ€§ã€‚

æˆ‘ä»¬ç²—ç•¥å®Œæˆæƒ³è¦åšçš„äº‹ï¼Œæ•´ä¸ªæµç¨‹è¿˜æ˜¯æœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚å¦‚æœæˆ‘ä»¬å…³å¿ƒæ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å‹ç¼©æœ€ç»ˆçš„æ†ç»‘æ–‡ä»¶ï¼Œè¿™ä¸ªä¸éš¾ï¼Œåªéœ€è¦å¾€ Webpack é‡ŒåŠ ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å„ç§æ–¹ä¾¿çš„å·¥å…·ï¼Œç”¨æ¥è§£å†³å„ç§å„æ ·çš„é—®é¢˜ã€‚

## npm è„šæœ¬ï¼štask runner

ç°åœ¨æˆ‘ä»¬åªé’ˆå¯¹ Javascript çš„æ¨¡å—å¢åŠ äº†ä¸€ä¸ªæ„å»ºæ­¥éª¤ï¼Œå¯¹äºå¤æ‚æƒ…å†µï¼Œåˆ™åº”ä½¿ç”¨ task runnerï¼Œå®ƒæ˜¯å±äºè‡ªåŠ¨åŒ–çš„æ„å»ºå·¥å…·ï¼Œè‡ªåŠ¨åŒ–å„ç§æ„å»ºè¿‡ç¨‹ä¸­è¦å®Œæˆçš„ä»»åŠ¡ï¼Œå¯¹äºå‰ç«¯å¼€å‘è€Œè¨€ï¼Œè¿™äº›ä»»åŠ¡åŒ…æ‹¬äº†æœ€å°åŒ–ä»£ç ï¼Œä¼˜åŒ–å›¾ç‰‡ï¼Œè¿è¡Œæµ‹è¯•ä»£ç ï¼Œç­‰ç­‰ã€‚

åœ¨ 2013 å¹´ï¼ŒGrunt æˆä¸ºäº†æœ€æµè¡Œçš„å‰ç«¯æ„å»ºä»»åŠ¡è‡ªåŠ¨åŒ–å·¥å…·ï¼Œåæ¥æ˜¯ Gulpã€‚ä¸¤è€…éƒ½ä¾èµ–ä¸åŒçš„ pluginsï¼Œè¿™äº› plugins çš„èƒŒåå…¶å®æ˜¯ä¸åŒçš„å‘½ä»¤è¡Œå·¥å…·ã€‚ç°åœ¨æœ€æµè¡Œçš„åšæ³•åˆ™æ˜¯ç›´æ¥åˆ©ç”¨ npm åŒ…ç®¡ç†å™¨çš„è„šæœ¬åŠŸèƒ½ï¼Œä¸éœ€è¦ plugin è€Œæ˜¯é€šè¿‡è„šæœ¬ç›´æ¥è°ƒç”¨è¿™äº›å·¥å…·ã€‚

è®©æˆ‘ä»¬æ¥çœ‹çœ‹ç”¨ npm è„šæœ¬è®© Webpack çš„ä½¿ç”¨æ›´åŠ å®¹æ˜“äº›ã€‚è¿™åªè¦ä¿®æ”¹ä¸€ä¸‹ package.jsonï¼š

```json
{
    "name": "modern-javascript-example",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1",
        "build": "webpack --progress -p",
        "watch": "webpack --progress --watch"
    },
    "author": "",
    "license": "ISC",
    "dependencies": {
        "moment": "^2.19.1"
    },
    "devDependencies": {
        "babel-core": "^6.26.0",
        "babel-loader": "^7.1.2",
        "babel-preset-env": "^1.6.1",
        "webpack": "^3.7.1"
    }
}
```

æˆ‘ä»¬å¢åŠ äº†ä¸¤æ®µè„šæœ¬ build å’Œ watch ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯è¿è¡Œ build è„šæœ¬ï¼š

```bash
$ npm run build
```

è¿™å°†è§¦å‘ Webpack è¿è¡Œï¼Œå¹¶ä¸”æ˜¾ç¤ºæ‰§è¡Œçš„è¿›åº¦ <span class="kwd">--pregress</span>ï¼ŒåŒæ—¶æœ€å°åŒ–è¾“å‡º <span class="kwd">-p</span>ã€‚

æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯è¿è¡Œ watch è„šæœ¬ï¼š

```bash
$ npm run watch
```

è¿™å°†è§¦å‘ Webpack è‡ªåŠ¨é‡æ–°è¿è¡Œå¦‚æœ Javascript çš„æ–‡ä»¶æœ‰æ‰€æ”¹å˜ <span class="kwd">--watch</span>ï¼Œè¿™å¯¹å¼€å‘æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚

æ³¨æ„æˆ‘ä»¬ä¸å¿…æŒ‡æ˜ Webpack çš„è·¯å¾„ï¼Œå› ä¸º node.js çŸ¥é“ npm æ¨¡å—éƒ½åœ¨ node_modules ç›®å½•ä¸‹ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å®‰è£… webpack-dev-server è¿™è¾…åŠ©å·¥å…·ï¼Œè¿™æ˜¯ä¸ªç®€æ˜“å®æ—¶é‡è½½çš„ web æœåŠ¡å™¨ï¼š

```bash
$ npm install webpack-dev-server --save-dev
```

package.json å˜ä¸ºï¼š

```json
{
    "name": "modern-javascript-example",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1",
        "build": "webpack --progress -p",
        "watch": "webpack --progress --watch",
        "server": "webpack-dev-server --open"
    },
    "author": "",
    "license": "ISC",
    "dependencies": {
        "moment": "^2.19.1"
    },
    "devDependencies": {
        "babel-core": "^6.26.0",
        "babel-loader": "^7.1.2",
        "babel-preset-env": "^1.6.1",
        "webpack": "^3.7.1"
    }
}
```

æˆ‘ä»¬å¯ä»¥å¯åŠ¨å®ƒï¼š

```bash
$ npm run server
```

å®ƒä¼šè‡ªåŠ¨åœ¨ä½ æµè§ˆå™¨é‡Œæ‰“å¼€ index.htmlï¼ˆlocalhost:8080ï¼‰ã€‚ä»»ä½•æ—¶å€™å¦‚æœä½ æ”¹åŠ¨äº† index.js é‡Œçš„ Javascriptï¼Œwebpack-dev-server ä¼šè‡ªåŠ¨é‡æ–°æ„é€ æ†ç»‘ Javascript æ–‡ä»¶å¹¶ä¸”è®©ä½ çš„æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ã€‚è¿™ä¸ä»…èŠ‚çº¦ä½ çš„æ—¶é—´ï¼Œè€Œä¸”è®©ä½ ä¸“æ³¨åœ¨ä½ çš„ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç ï¼Œæµè§ˆå™¨ä¹‹é—´ä¸åœåˆ‡æ¢ä»¥æ£€æµ‹æ‰€åšçš„ä¿®æ”¹ã€‚

ä½ è¿˜å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼Œä½ å¯ä»¥åœ¨ [è¿™é‡Œ](https://webpack.js.org/guides/development/) äº†è§£æ›´å¤šçš„ Webpack ä»¥åŠ webpack-dev-serverã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç±»ä¼¼çš„ç”¨ npm è„šæœ¬æŠŠ Sass è½¬æ¢æˆ CSSï¼Œå‹ç¼©å›¾åƒæ–‡ä»¶ï¼Œç­‰ç­‰ï¼Œä»»ä½•å‘½ä»¤è¡Œå¯ä»¥åšçš„äº‹éƒ½å¯ä»¥åŒ…å«è¿›æ¥ã€‚æ›´å¤š npm è„šæœ¬çš„é«˜çº§ç‰¹æ€§å¯ä»¥è§‚çœ‹ Kate Hudson çš„ [è¿™ä¸ªè®²åº§](https://www.youtube.com/watch?v=0RYETb9YVrk)ã€‚

## ç»“è¯­

è¿™å°±æ˜¯ç°ä»£ Javascript å¼€å‘æœ€åŸºæœ¬çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬ä»çº¯ HTML å’Œ Javascriptï¼Œåˆ°ä½¿ç”¨åŒ…ç®¡ç†å™¨è‡ªåŠ¨ä¸‹è½½ç¬¬ä¸‰æ–¹åŒ…ï¼Œé€šè¿‡æ¨¡å—æ†ç»‘æ‰“åŒ…æˆå•ä¸€ Javascript æ–‡ä»¶ï¼Œä½¿ç”¨è½¬è¯‘å™¨æ¥æå‰ä½¿ç”¨ Javascript çš„æ–°ç‰¹æ€§ï¼Œå¹¶å¯ä»¥ç”¨ä»»åŠ¡è‡ªåŠ¨åŒ–å·¥å…·æ¥è‡ªåŠ¨åŒ–å„ç§æ„å»ºä»»åŠ¡ã€‚å¯¹åˆå­¦è€…æ¥è®²ï¼Œå·²ç»ç»å†äº†ä¸å°‘ã€‚å¯¹äºä»»ä½•è¿›å…¥ç¼–ç¨‹çš„æ–°äººï¼Œå‰ç«¯å¼€å‘æ›¾ç»æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åˆ‡å…¥ç‚¹ï¼Œå› ä¸ºé‚£æ—¶å‰ç«¯å¼€å‘éå¸¸å®¹æ˜“èµ·æ­¥ï¼Œç›´æ¥è¿è¡Œï¼Œç°åœ¨åˆ™éå¸¸å“äººï¼Œå› ä¸ºæœ‰äº†å„ç§å„æ ·å¤æ‚çš„å·¥å…·ï¼Œè€Œä¸”è¿˜åœ¨ä¸æ–­è¿…é€Ÿçš„æ”¹å˜ç€ã€‚

å½“ç„¶ç°åœ¨çš„æƒ…å†µä¹Ÿæ²¡æœ‰é‚£ä¹ˆåï¼Œå› ä¸ºéšç€ node.js çš„ç”Ÿæ€ç³»ç»Ÿè¢«å¹¿æ³›æ¥å—ï¼Œä½¿ç”¨ npm ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œnode require æˆ– import è¯­å¥æ¥è°ƒç”¨æ¨¡å—ï¼Œnpm è„šæœ¬æ¥è¿è¡Œå®Œæˆå„ç§ä»»åŠ¡ï¼Œå³ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œåˆè®©å·¥å…·ä½¿ç”¨ä¿æŒä¸€è‡´æ€§ï¼Œè¿™æ¯”å‰ä¸€ä¸¤å¹´æœ‰äº†å¤ªå¤§çš„è½¬å˜ã€‚

æ— è®ºæ˜¯æ–°æ‰‹è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘äººå‘˜ï¼Œå‰ç«¯å¼€å‘æ¡†æ¶ç°ä»Šå¤šæ•°éƒ½æä¾›äº†ç›¸åº”çš„å·¥å…·è®©å…¶å®¹æ˜“ä¸Šæ‰‹ï¼šEmber æœ‰ ember-cliï¼Œç„¶åå®ƒå½±å“äº† Angular - angular-cliï¼Œæ¥ç€æ˜¯ React - create-react-appï¼ŒVue - vue-cliï¼Œç­‰ç­‰ã€‚è¿™äº›å·¥å…·ä¼šæŠŠä¸€ä¸ªé¡¹ç›®æ‰€éœ€çš„ä¸€åˆ‡å‡†å¤‡å·¥ä½œåšå¥½ï¼Œè®©ä½ å¯ä»¥ç«‹é©¬å¼€å§‹å†™ä»£ç ã€‚å½“ç„¶å·¥å…·ä¸æ˜¯é­”æ³•ï¼Œåªæ˜¯å®ƒä»¬ä½¿ç”¨ä¸€è‡´çš„æ–¹æ³•ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œåœ¨æŸä¸ªç‚¹ä½ éœ€è¦ Webpackï¼Œbabel ç­‰åšä¸€äº›ç‰¹æ®Šçš„äº‹æƒ…ï¼Œæ‰€ä»¥äº†è§£æœ¬æ–‡ä¸Šé¢æ‰€æè¿°çš„å„ä¸ªç¯èŠ‚å°±å¾ˆé‡è¦äº†ã€‚

ç°ä»Šçš„ Javascript å¼€å‘æ˜¯æ¯”è¾ƒè®©äººæ²®ä¸§çš„ï¼Œå› ä¸ºå…¶ä¸€ç›´ä»¥å¾ˆå¿«çš„é€Ÿåº¦å˜åŒ–ç€ã€‚è™½ç„¶å¾ˆå¤šæ—¶å€™çœ‹èµ·æ¥åœ¨é‡å¤å‘æ˜è½®å­ï¼Œä½† Javascript çš„å¿«é€Ÿæ¼”åŒ–è¿˜æ˜¯å¸®åŠ©å…¶ä¸æ–­æ¨å‡ºåˆ›æ–°æŠ€æœ¯ï¼Œä¾‹å¦‚ hot reloadingï¼Œreal-time lintingï¼Œtime-travel debuggingã€‚æˆä¸ºç¨‹åºçŒ¿è¿˜æ˜¯ä¸€ä¸ªå¾ˆä»¤äººæ¿€åŠ¨çš„äº‹æƒ…ï¼Œæˆ‘å¸Œæœ›æœ¬æ–‡èƒ½åœ¨ä½ æˆä¸ºå¼€å‘äººå‘˜çš„è·¯é€”ä¸Šå¸¦æ¥æŒ‡ç¤ºæ€§å¸®åŠ©ã€‚

![4](/images/modern-js/4.png#center)
